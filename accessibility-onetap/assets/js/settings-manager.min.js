(r=>{function i(e,t){var o=document.createElement("textarea"),e=(o.value=e,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"));document.body.removeChild(o),a(t,e)}function a(e,t){let o=e.html();t?(e.text("Copied!").addClass("copied"),setTimeout(function(){e.html(o).removeClass("copied")},2e3)):(e.text("Failed!").addClass("error"),setTimeout(function(){e.html(o).removeClass("error")},2e3))}r(".box-save-changes .save-changes").on("click",function(e){e.preventDefault();let t=new URLSearchParams(window.location.search).get("page");(t=t.replace(/-/g,"_")).includes("accessibility_onetap")&&(t=t.replace("accessibility_","")),r("#"+t+" .submit-button .button").trigger("click")}),r(".setting-control.radio-image .box .label").click(function(){r(this).closest(".setting-control").find(".label").removeClass("checked"),r(this).addClass("checked")}),r(".setting-control.radio-text .box .label").click(function(){r(this).closest(".setting-control").find(".label").removeClass("checked"),r(this).addClass("checked")}),r(".color-picker-field").wpColorPicker({change(e,t){t=t.color.toString();r(this).closest(".boxes").find(".box1").css("--outline-color",t),r(".setting-control.color .boxes .box1 .wp-picker-container button.wp-color-result").css("outline-color",t),r(".sidebar-preview .preview-viewport button img").css({"background-color":t}),r(".setting-control.radio-image .boxes .box label img").css({"background-color":t}),r(".settings-group.border .setting-control.radio-image .boxes .box1 label img").css({border:"solid 2px #fff","box-shadow":"0 0 0 4px "+t}),"design-border1"===r('.settings-group.border .boxes .box input[type="radio"]:checked').val()?(r(".sidebar-preview .preview-viewport button img").css({border:"solid 2px #fff","box-shadow":"0 0 0 4px "+t}),r(".settings-group.border .setting-control.radio-image .boxes .box1 label img").css({"box-shadow":"0 0 0 4px "+t})):"design-border2"===r('.settings-group.border .boxes .box input[type="radio"]:checked').val()&&(r(".sidebar-preview .preview-viewport button img").css({border:"none","box-shadow":"none"}),r(".setting-control.radio-image .boxes .box2 label img").css({"box-shadow":"0 0 0 4px transparent"}))}}),r(document).on("click",".color-result",function(){r(this).closest(".boxes").find(".color-picker-field").wpColorPicker("open")}),r(document).on("click",".boxes .box3 li",function(){var e=r(this).data("color"),t=r(this).closest(".boxes");t.find(".color-picker-field").wpColorPicker("color",e),t.find(".color-result").text(e),t.find(".box1 .wp-color-result").css("outline-color",e)}),r(document).on("click",".devices-tabs button",function(){var e=r(this),t=e.attr("data-device-type"),o=r(".devices-tabs button");t&&["desktop","tablet","mobile"].includes(t)?(o.attr("aria-pressed",!1).removeClass("active"),e.attr("aria-pressed",!0).addClass("active"),r(".preview-viewport").removeClass("active"),r(".preview-"+t).addClass("active"),r(".viewport-"+t).addClass("active")):console.warn("Invalid device type:",t)}),r(".setting-control.number-slider").each(function(){var e=r(this);let a=e.find('input[type="range"]'),t=e.find('input[type="number"]');function i(e,t=!1){var o=parseFloat(a.attr("min")),i=parseFloat(a.attr("max")),e=(parseFloat(e)-o)/(i-o)*100,i=t?"#d5d7da":"#E9EAEB";a.css("background",`linear-gradient(to right, #0048FE ${e}%, ${i} ${e}%)`)}i(a.val()),a.on("input",function(){var e=r(this).val();t.val(e),i(e)}),t.on("input",function(){var e=parseFloat(r(this).val()),t=parseFloat(a.attr("min")),o=parseFloat(a.attr("max")),e=Math.min(Math.max(e,t),o);a.val(e),i(e)}),a.add(t).hover(function(){i(a.val(),!0)},function(){i(a.val(),!1)})}),r(document).on("click",".copy-button",function(){let t=r(this),o=t.data("copy-text");var e;o||(e=t.prev(".copy-text")).length&&(o=e.text().trim()),o&&(navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(o).then(function(){a(t,!0)}).catch(function(e){console.error("Failed to copy text: ",e),i(o,t)}):i(o,t))}),r(".setting-manager-meida-browse").on("click",function(e){e.preventDefault();let t=r(this),o=wp.media.frames.fileFrame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},multiple:!1});o.on("select",function(){attachment=o.state().get("selection").first().toJSON(),t.prev(".setting-manager-url").val(attachment.url).change()}),o.open()})})(jQuery);