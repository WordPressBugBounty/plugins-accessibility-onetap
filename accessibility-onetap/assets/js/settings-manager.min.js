(n=>{let s=!1;function t(){{let e=n(".language-select-dropdown"),a={};e.each(function(){n(this).find(".language-select-options").find('.box-swich input[type="checkbox"]').each(function(){var e=n(this),t=e.closest(".language-select-option"),o=e.attr("id").match(/toggle-language-([^\]]+)/);o&&o[1]&&(o=o[1],t=t.hasClass("selected"),a[o]=t||e.is(":checked")?"on":"off")})}),"undefined"!=typeof adminLocalize&&adminLocalize.ajaxUrl&&adminLocalize.ajaxNonce&&n.ajax({url:adminLocalize.ajaxUrl,type:"POST",data:{action:"save_language_toggles",nonce:adminLocalize.ajaxNonce,language_toggles:a},success(e){e.success?console.log("Language toggles saved successfully"):console.error("Failed to save language toggles:",e.error||"Unknown error")},error(e,t,o){console.error("AJAX error saving language toggles:",o)}})}let e=new URLSearchParams(window.location.search).get("page");e=e.replace(/-/g,"_");var t=n(".setting-control.language-select .language-select-input").val();if(t&&""!==t.trim())try{var o,a="onetap-accessibility-free",i=localStorage.getItem(a);i&&(o=JSON.parse(i)).information&&(o.information.language=t,localStorage.setItem(a,JSON.stringify(o)))}catch(e){console.error("Error updating language in localStorage:",e)}e.includes("accessibility_onetap")&&(e=e.replace("accessibility_","")),n("#"+e+" .submit-button .button").trigger("click"),setTimeout(function(){s=!1},100)}function a(e,t){var o=document.createElement("textarea"),e=(o.value=e,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"));document.body.removeChild(o),i(t,e)}function i(e,t){let o=e.html();t?(e.text("Copied!").addClass("copied"),setTimeout(function(){e.html(o).removeClass("copied")},2e3)):(e.text("Failed!").addClass("error"),setTimeout(function(){e.html(o).removeClass("error")},2e3))}n(".box-save-changes .save-changes, .box-save-changes .fake-save-changes").on("click",function(e){e.preventDefault(),s||(e=n(this),s=!0,e.hasClass("fake-save-changes")?setTimeout(function(){t()},2700):t())}),n(".setting-control.radio-image .box .label").click(function(){n(this).closest(".setting-control").find(".label").removeClass("checked"),n(this).addClass("checked")}),n(".setting-control.radio-text .box .label").click(function(){n(this).closest(".setting-control").find(".label").removeClass("checked"),n(this).addClass("checked")}),n(".color-picker-field").wpColorPicker({change(e,t){t=t.color.toString();n(this).closest(".boxes").find(".box1").css("--outline-color",t),n(".setting-control.color .boxes .box1 .wp-picker-container button.wp-color-result").css("outline-color",t),n(".sidebar-preview .preview-viewport button img").css({"background-color":t}),n(".setting-control.radio-image .boxes .box label img").css({"background-color":t}),n(".settings-group.border .setting-control.radio-image .boxes .box1 label img").css({border:"solid 2px #fff","box-shadow":"0 0 0 4px "+t}),"design-border1"===n('.settings-group.border .boxes .box input[type="radio"]:checked').val()?(n(".sidebar-preview .preview-viewport button img").css({border:"solid 2px #fff","box-shadow":"0 0 0 4px "+t}),n(".settings-group.border .setting-control.radio-image .boxes .box1 label img").css({"box-shadow":"0 0 0 4px "+t})):"design-border2"===n('.settings-group.border .boxes .box input[type="radio"]:checked').val()&&(n(".sidebar-preview .preview-viewport button img").css({border:"none","box-shadow":"none"}),n(".setting-control.radio-image .boxes .box2 label img").css({"box-shadow":"0 0 0 4px transparent"}))}}),n(document).on("click",".color-result",function(){n(this).closest(".boxes").find(".color-picker-field").wpColorPicker("open")}),n(document).on("click",".boxes .box3 li",function(){var e=n(this).data("color"),t=n(this).closest(".boxes");t.find(".color-picker-field").wpColorPicker("color",e),t.find(".color-result").text(e),t.find(".box1 .wp-color-result").css("outline-color",e)}),n(document).on("click",".devices-tabs button",function(){var e=n(this),t=e.attr("data-device-type"),o=n(".devices-tabs button");t&&["desktop","tablet","mobile"].includes(t)?(o.attr("aria-pressed",!1).removeClass("active"),e.attr("aria-pressed",!0).addClass("active"),n(".preview-viewport").removeClass("active"),n(".preview-"+t).addClass("active"),n(".viewport-"+t).addClass("active")):console.warn("Invalid device type:",t)}),n(".setting-control.number-slider").each(function(){var e=n(this);let i=e.find('input[type="range"]'),t=e.find('input[type="number"]');function a(e,t=!1){var o=parseFloat(i.attr("min")),a=parseFloat(i.attr("max")),e=(parseFloat(e)-o)/(a-o)*100,a=t?"#d5d7da":"#E9EAEB";i.css("background",`linear-gradient(to right, #0048FE ${e}%, ${a} ${e}%)`)}a(i.val()),i.on("input",function(){var e=n(this).val();t.val(e),a(e)}),t.on("input",function(){var e=parseFloat(n(this).val()),t=parseFloat(i.attr("min")),o=parseFloat(i.attr("max")),e=Math.min(Math.max(e,t),o);i.val(e),a(e)}),i.add(t).hover(function(){a(i.val(),!0)},function(){a(i.val(),!1)})}),n(document).on("click",".copy-button",function(){let t=n(this),o=t.data("copy-text");var e;o||(e=t.prev(".copy-text")).length&&(o=e.text().trim()),o&&(navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(o).then(function(){i(t,!0)}).catch(function(e){console.error("Failed to copy text: ",e),a(o,t)}):a(o,t))}),n(".setting-manager-meida-browse").on("click",function(e){e.preventDefault();let t=n(this),o=wp.media.frames.fileFrame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},multiple:!1});o.on("select",function(){attachment=o.state().get("selection").first().toJSON(),t.prev(".setting-manager-url").val(attachment.url).change()}),o.open()})})(jQuery);